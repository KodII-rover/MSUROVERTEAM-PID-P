# Контроллер движения ("P-регулятор")

## MSUROVERTEAM-PID-P

Контроллер движения «P-регулятор» - это частный случай тардиционного "PID-регулятора" в котором исключены Интегральная (I) и Дифференциальная (D) составляющие. 

Пропорциональный коэффициент (**Kp=1**) расчитывался по Методу Циглера-Никольса во время испытаний реального ровера .

**Платформа:** 
*   ROS2 Humble (Robot Operating System 2 версии Humble).

### Структура проекта eureka_pid/

* **MSUROVERTEAM-PID-P/**
    * **include/eureka_jerk/**
        * `controller.hpp` — main класс наследующий интерфейс контроллера
        * `path_handler.hpp` — вспомогательный класс для работы с path
        * `pid.hpp` — класс принимающий path и высчитывающий скорости
        * `utils.hpp` — утилиты для класса, работающего с path
    * **log/** — logs работы контроллера
        * **list_2025-10-02_23-31-32/**
            * `logger_all.log` — каталог для записи log на дату и время
        * `latest`
        * `latest_list`
    * **src/**
        * `controller.cpp` — определение main класса
        * `path_handler.cpp` — определение класса, работающего с path
        * `pid.cpp` — определение класса, принимающего path и вычисляющего скорости 
        * `main.cpp` — определение главной ros2 петли пакета
    * `CMakeLists.txt`
    * `controller.xml`
    * `package.xml`

### Особенности пакета

Тип сборки пакета – "ament_cmake". В файлах `CMakeLists.txt` и `package.xml` включены все необходимые зависимости.

Защитные включения ("header guards") установлены в заголовочных файлах. Жизненный цикл контроллера ("Lifecycle Node") основан на классе `rclcpp_lifecycle::LifecycleNode`.

При разработке использовался механизм плагинов. Контроллер движения «P-регулятор» экспортируются как плагин ROS2 Humble, с использованием библиотеки `pluginlib`.

Взаимодействие с ROS2 Humble, другими плагинами и нодами ведется через стандартизированный интерфейс сообщений. Контроллер вычисляет скорости исходя из знания о текущем маршруте(пути) и отправляет их в топик `/cmd_vel`. В нашем проекте этот топик читается нодами "Библиотеки управления движения на нижнем уровне".

---

Определение Пропорционального коэффициента **Kp** и тестирование данного контроллера движения «P-регулятора» проводились в полевых условиях на реальном [ровере](https://msuroverteam.org/wp-content/uploads/2025/09/IMG_20250601_104500-min-scaled.jpg).
